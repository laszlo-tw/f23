<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- head.html; common header items for all layouts -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">



<link rel="stylesheet" href="/f23/assets/css/main.css">
  
<script
   src="https://code.jquery.com/jquery-3.3.1.min.js"
   integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
   crossorigin="anonymous"></script>

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">



<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/mousetrap/1.4.6/mousetrap.min.js"></script>


<script src="/f23/assets/js/site.js"></script>

<script>
var nav ={
    
    "offerings": {
	"title" : "F23",
	"url" : "/",
	"baseurl" : "/f23",
	"items" : [
	    
	    {
		"title" : "F23",
		"url" : "/",
		"baseurl" : "/f23",
	    },
	    
	],
    },
    
    
    "offering_links": [
	
		{
		    "title": "PA",		    
		     "url": "/pa_list/", 		    
		     "description": "Programming Assignments", 
		    		    
		},
	
		{
		    "title": "Lab",		    
		     "url": "/lab_list/", 		    
		     "description": "Lab Assignments", 
		    		    
		},
	
		{
		    "title": "Cal",		    
		     "url": "/info/calendar/", 		    
		     "description": "Assignment Calendar", 
		    		    
		},
	
		{
		    "title": "More",		    
		    		    
		    
		    
		    "dropdown" : [
			
			{
			    "title": "Syllabus",		    
			    "url": "/info/syllabus/", 
			     "description": "Syllabus", 
			},
			
			{
			    "title": "Info Pages",		    
			    "url": "/info_list/", 
			     "description": "List of General Information Pages", 
			},
			
		    ]
		    		    
		},
	
		{
		    "title": "Links",		    
		    		    
		    
		    
		    "dropdown" : [
			
			{
			    "title": "Gauchospace",		    
			    "url": "https://gauchospace.ucsb.edu", 
			     "description": "Overall Grade Information", 
			},
			
			{
			    "title": "GradeScope",		    
			    "url": "https://gradescope.com", 
			     "description": "HW and Lab Grades", 
			},
			
			{
			    "title": "Piazza",		    
			    "url": "https://piazza.com", 
			     "description": "Q&A Forum", 
			},
			
		    ]
		    		    
		},
	
		{
		    "title": "Github",		    
		    		    
		    
		    
		    "dropdown" : [
			
			{
			    "title": "ucsb-cs24-f23",		    
			    "url": "https://github.com/ucsb-cs24-f23", 
			    
			},
			
		    ]
		    		    
		},
	
     
    ],
    
        
}
;
</script>






    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
    
  <title> CS24 Fall 2023</title>
  </head>
  <body id="page-top">
    <div class="container">
    

<script>
  console.log("site.url=http://localhost:4000");
  console.log("site.baseurl=/f23");
  console.log("site.data.navigation.home.url=/");
  console.log("site.data.navigation.home.baseurl=/");
  console.log("home_url=/");
  console.log("home_url_final=https://ucsb-cs24.github.io/");
</script>



<script>
  console.log("offering_url=/");
  console.log("offering_baseurl=/f23");
  console.log("offering_url_final=/f23/");
  console.log("offering_title=F23");
</script>


<nav class="navbar navbar-expand-lg navbar-light bg-light">

  <a class="navbar-brand" href="https://ucsb-cs24.github.io/">UCSB CS24</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
    <ul class="navbar-nav mr-auto"><li class="nav-item dropdown">
  <a class="nav-link dropdown-toggle" href="#" id="main-dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Resources
  </a>
  <div class="dropdown-menu" aria-labelledby="main-dropdown"><a class="dropdown-item" href="https://ucsb-cs24.github.io/topic_list/">Topics</a><a class="dropdown-item" href="https://ucsb-cs24.github.io/resources_list/">Resources</a></div>
</li><li class="nav-item">
  <a class="nav-link" href="/f23/">
    F23
  </a>
</li>
<li class="nav-item"><a class="nav-link" href="/f23/pa_list/"title="Programming Assignments"data-term="" >PA</a>

</li><li class="nav-item"><a class="nav-link" href="/f23/lab_list/"title="Lab Assignments"data-term="" >Lab</a>

</li><li class="nav-item"><a class="nav-link" href="/f23/info/calendar/"title="Assignment Calendar"data-term="" ><i class='fa fa-calendar' aria-hidden='true'></i>&nbsp;Cal</a>

</li><li class="nav-item dropdown " data-term="">
  <a class="nav-link dropdown-toggle" href="#" id="navbar-offering-specific-dropdown-More" data-toggle="dropdown" aria-haspopup="true"
     aria-expanded="false">More</a>
    <div class="dropdown-menu" aria-labelledby="navbar-offering-specific-dropdown-More"><a class="dropdown-item" href="/f23/info/syllabus/"title="Syllabus"data-term="" >Syllabus</a>

<a class="dropdown-item" href="/f23/info_list/"title="List of General Information Pages"data-term="" >Info Pages</a>

</div>
</li>


<li class="nav-item dropdown " data-term="">
  <a class="nav-link dropdown-toggle" href="#" id="navbar-offering-specific-dropdown-Links" data-toggle="dropdown" aria-haspopup="true"
     aria-expanded="false">Links</a>
    <div class="dropdown-menu" aria-labelledby="navbar-offering-specific-dropdown-Links"><a class="dropdown-item" href="https://gauchospace.ucsb.edu"title="Overall Grade Information"data-term="" >Gauchospace</a>

<a class="dropdown-item" href="https://gradescope.com"title="HW and Lab Grades"data-term="" >GradeScope</a>

<a class="dropdown-item" href="https://piazza.com"title="Q&A Forum"data-term="" >Piazza</a>

</div>
</li>


<li class="nav-item dropdown " data-term="">
  <a class="nav-link dropdown-toggle" href="#" id="navbar-offering-specific-dropdown-Github" data-toggle="dropdown" aria-haspopup="true"
     aria-expanded="false">Github</a>
    <div class="dropdown-menu" aria-labelledby="navbar-offering-specific-dropdown-Github"><a class="dropdown-item" href="https://github.com/ucsb-cs24-f23"data-term="" ><i class='fab fa-github' aria-hidden='true'></i>&nbsp;ucsb-cs24-f23</a>

</div>
</li>


</ul>
  </div>
</nav>


    <div id="content"  class="ui-content">
      
      
        <p class="topic-summary">Quicksort. Prefix, Postfix and Infix notation</p>
      
        
          
      
      <h2 id="relevant-topics-in-the-textbook">Relevant topics in the textbook:</h2>
<p>Data Structures and Other Objects Using C++ Chapter 13.2</p>

<h1 id="notation">Notation:</h1>

<h2 id="infix">Infix</h2>
<ul>
  <li>Expression: X + Y</li>
  <li>Expression: A * B + C / D</li>
  <li>Expression: A * (B + C / D)</li>
</ul>

<h2 id="prefix-polish-notation">Prefix (“Polish notation”)</h2>
<ul>
  <li>Expression: + X Y</li>
  <li>Expression: + * A B / C D</li>
  <li>Expression: * A + B / C D</li>
</ul>

<h2 id="postfix-reverse-polish-notation">Postfix (“Reverse Polish notation”)</h2>
<ul>
  <li>Expression: X Y +</li>
  <li>Expression: A B * C D / +</li>
  <li>Expression: A B C D / + *</li>
</ul>

<h1 id="divide-and-conquer">Divide and conquer</h1>
<ul>
  <li>Subdivide a larger problem into smaller parts</li>
  <li>Solve each smaller part</li>
  <li>Combine solutions of smaller sub problems back into the larger problem</li>
  <li>We see this pattern in recursive problems where they can be subdivided</li>
</ul>

<h1 id="divide-and-conquer-sorting-algorithms">Divide and conquer sorting algorithms</h1>
<ul>
  <li>You’ve learned about quadratic sorting algorithms
    <ul>
      <li>Bubble sort, selection sort, insertion sort
        <ul>
          <li>Runs in O(n<sup>2</sup>)</li>
        </ul>
      </li>
      <li>Better sorting algorithms exist
        <ul>
          <li>Can improve our run time to O(nlogn) in the worst case.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h1 id="mergesort">Mergesort</h1>
<ul>
  <li>Idea:
    <ul>
      <li>Break an array into sub arrays where size = 1.</li>
      <li>Merge each small sub array together to form sorted larger array.</li>
      <li>Apply technique to the entire array.</li>
      <li>Sorting is done “bottom-up”</li>
    </ul>
  </li>
  <li>Good visualization is given <a href="https://opendsa-server.cs.vt.edu/embed/mergesortAV">here</a> and <a href="https://visualgo.net/bn/sorting">here</a></li>
</ul>

<h1 id="mergesort-analysis">Mergesort Analysis</h1>

<ul>
  <li>Best-case: O(nlogn)</li>
  <li>Average-case: O(nlogn)</li>
  <li>Worst-case: O(nlogn)</li>
  <li>Requires O(n) additional space to merge the unsorted arrays into a sorted array
    <ul>
      <li>Time / space tradeoff</li>
    </ul>
  </li>
</ul>

<h1 id="quicksort">Quicksort</h1>
<ul>
  <li>Idea:
    <ul>
      <li>Can subdivide array based on a “pivot” value.
        <ul>
          <li>Place elements &lt; pivot to the left-side of the array</li>
        </ul>
      </li>
      <li>Place elements &gt; pivot to the right-side of the array
        <ul>
          <li>Repeat for each left / right portion of the array</li>
        </ul>
      </li>
      <li>When sub array sizes = 1, then entire array is sorted</li>
      <li>Sorting is done “top-down”</li>
    </ul>
  </li>
  <li>Good visualization is <a href="https://opendsa-server.cs.vt.edu/embed/quicksortAV">here</a></li>
</ul>

<h1 id="quicksort-algorithm">Quicksort Algorithm</h1>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Makefile
add quicksort.o to dependencies
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// quicksort.h

class Quicksort{
	public:
		void printArray(const int a[], size_t size);
		void partition(int a[], size_t size, size_t&amp; pivotIndex);
		void sort(int a[], size_t size);
};
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// quicksort.cpp

#include&lt;iostream&gt;
#include "quicksort.h"

using namespace std;

void Quicksort::printArray(const int a[], size_t size) {
	cout &lt;&lt; "Printing Array" &lt;&lt; endl;
	for (int i = 0; i &lt; size; i++) {
		cout &lt;&lt; "a[" &lt;&lt; i &lt;&lt; "] = " &lt;&lt; a[i] &lt;&lt; endl;
	}
}

void Quicksort::partition(int a[], size_t size, size_t&amp; pivotIndex) {
	int pivot = a[0];		 // choose 1st value for pivot
	size_t left = 1;		 // index just right of pivot
	size_t right = size - 1; // last item in array
	int temp;
	cout &lt;&lt; endl &lt;&lt;"Chose a pivot: " &lt;&lt; pivot &lt;&lt; endl;
	printArray(a, size);
	while (left &lt;= right) {
		// increment left if &lt;= pivot
		while (left &lt; size &amp;&amp; a[left] &lt;= pivot) {
			left++;
		}

		// decrement right if &gt; pivot
		while (a[right] &gt; pivot) {
			right--;
		}

		// swap left and right if left &lt; right
		if (left &lt; right) {
			cout &lt;&lt; "Swapping: " &lt;&lt; a[left] &lt;&lt; " with " &lt;&lt; a[right] &lt;&lt; endl;
			temp = a[left];
			a[left] = a[right];
			a[right] = temp;
			printArray(a, size);
		}
	}
	cout &lt;&lt; "Swapping pivot: " &lt;&lt; a[0] &lt;&lt; " with " &lt;&lt; a[right] &lt;&lt; endl;
	// swap pivot with a[right]
	pivotIndex = right;
	temp = a[0];
	a[0] = a[pivotIndex];
	a[pivotIndex] = temp;
	printArray(a, size);
}

void Quicksort::sort(int a[], size_t size) {
	size_t pivotIndex;		// index of pivot
	size_t leftSize;		// num elements left of pivot
	size_t rightSize;		// num elements right of pivot
	
	

	if (size &gt; 1) {
		// partition a[] based on pivotIndex
		partition(a, size, pivotIndex);

		// Compute the sizes of left and right sub arrays
		leftSize = pivotIndex;
		rightSize = size - leftSize - 1;

		// recursive call sorting the left array
		sort(a, leftSize);

		// recursive call sorting the right array
		sort((a + pivotIndex + 1), rightSize);
	}
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// add to main.cpp
#include "quicksort.h"
</code></pre></div></div>

<h1 id="quicksort-analysis">Quicksort Analysis</h1>

<ul>
  <li>Best-case: O(nlogn)</li>
  <li>Average-case: O(nlogn)</li>
  <li>Worst-case: O(n<sup>2</sup>)
    <ul>
      <li>Quicksort performs poorly depending on the pivot value chosen.
        <ul>
          <li>Run this algorithm with an array already in sorted order.</li>
        </ul>
      </li>
      <li>If the pivot is the least or greatest value in the array, then the sub arrays aren’t evenly divided.</li>
      <li>An optimization to try and prevent this scenario is to select a few pivot values in the array randomly and selecting the medium of these.</li>
    </ul>
  </li>
  <li>Unlike (our version of) Mergesort, Quicksort does not require additional buffer space and can sort the array in-place.</li>
</ul>
</div><!-- content -->
    <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
    

<nav class="navbar navbar-expand-lg navbar-light bg-light footer-navbar ">
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#footer-navbar-NavAltMarkup" aria-controls="footer-navbar-NavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="footer-navbar-NavAltMarkup">
    <div class="navbar-nav">
      <a class="nav-item nav-link" href="https://github.com/ucsb-cs24/f23">github site</a>
      <a class="nav-item nav-link" href="https://github.com/ucsb-cs24/f23/edit/master/jlects/lect13.md">edit this page on github</a>
      <span class="nav-item travis-ci-status "><a class="nav-link" href="https://travis-ci.org/ucsb-cs24/f23">
	  <img src="https://travis-ci.org/ucsb-cs24/f23.svg?branch=master" alt="Build Status">
	</a>
      </span>
    </div>
  </div>
</nav>

    </div><!-- container -->
  </body>
</html>
